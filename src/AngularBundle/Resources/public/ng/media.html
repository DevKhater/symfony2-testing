<ng-include src="'/bundles/angular/ng/header.html'"></ng-include>
<div md-theme="default" class="pageBands" >
    <style>
        .progress {
            line-height: 15px;
        }
        .progress {
            display: inline-block;
            width: 100px;
            border: 3px groove #CCC;
        }

        .progress div {
            font-size: smaller;
            background: orange;
            width: 0;
        }
    </style>
    <form name="myForm">
        <fieldset>
            <legend>Upload Images</legend>
            Multiple files
            <div class="button" ngf-select ng-model="files" ngf-multiple="true" accept="image/*" ngf-max-height="1000" ngf-max-size="1MB">Select</div>
            <button ng-click="uploadPic(files)">Submit</button>
            Files:
            <ul>
                <li ng-repeat="f in files" style="font:smaller">{{f.name}} {{f.$errorParam}}
                    <span class="progress" ng-show="f.progress >= 0">
                        <div style="width:{{f.progress}}%"  
                             ng-bind="f.progress + '%'"></div>
                    </span>
                </li>
                <li ng-repeat="f in errFiles" style="font:smaller">{{f.name}} {{f.$error}} {{f.$errorParam}}
                </li> 
            </ul>
            {{errorMsg}}


            <!--        <button 
                        ng-disabled="!myForm.$valid"
                    ng-click="uploadPic(picFile)">Submit</button>-->
            <span class="progress" ng-show="picFile.progress >= 0">
                <div style="width:{{picFile.progress}}%"
                     ng-bind="picFile.progress + '%'"></div>
            </span>
            <span ng-show="picFile.result">Upload Successful</span>
            <span class="err" ng-show="errorMsg">{{errorMsg}}</span>
        </fieldset>
    </form>
    <div flex ng-show="noFound"> <h1>No Bands ... Is Empty !</h1></div>
    <div class="data-holder" layout-margin ng-hide="noFound">
        <div class="elementContent extraElementContent mediaHover" md-whiteframe="10" ng-repeat="image in images" class="backWhite">
            <div class="elementCard">
                <div class="mediaImageHolder" layout-padding>
                    <img ng-src="{{image.image_url}}" class="img-responsive">
                </div>
                <div class="elementCardContent" layout-padding>
                    <div flex layout="column" layout-align='space-around center'>
                        <p layout="row" layout-align='space-around center'></p>
                    </div>
                    <div class='bandsAction' layout="row">
                        <md-button aria-label="Delete" ng-click="deleteImage(image)">
                            <md-icon md-svg-icon="crud:delete" style="fill:red"></md-icon>
                            Delete
                        </md-button>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div layout-align="center center" layout="row"
         paging
         ng-hide="pages == 1"
         page="page"
         page-size="limit"
         total="total"
         paging-action="changePage(page)">
    </div>
</div>
